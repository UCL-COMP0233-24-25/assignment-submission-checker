<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Miscellaneous Git Functions &#8212; Assignment Submission Checker  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=27fed22d" />
    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Utility Functions" href="utils.html" />
    <link rel="prev" title="The Directory Class" href="directory.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="miscellaneous-git-functions">
<h1>Miscellaneous Git Functions<a class="headerlink" href="#miscellaneous-git-functions" title="Link to this heading">¶</a></h1>
<p>Since the majority of assignment submissions rely on the presence of a git repository, this module contains a number of helper functions for interacting with <code class="docutils literal notranslate"><span class="pre">GitPython</span></code>, and thus git.</p>
<dl class="py function" id="module-assignment_submission_checker.git_utils">
<dt class="sig sig-object py" id="assignment_submission_checker.git_utils.is_clean">
<span class="sig-name descname"><span class="pre">is_clean</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repo</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Repo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boolean_output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bool</span></span></span><a class="headerlink" href="#assignment_submission_checker.git_utils.is_clean" title="Link to this definition">¶</a></dt>
<dd><p>Determine if the repository has a clean working tree.</p>
<dl class="simple">
<dt>Returns a Tuple of two values;</dt><dd><ol class="arabic simple">
<li><p>A list of the untracked files in the repository.</p></li>
<li><p>A list of the changed files in the repository.</p></li>
</ol>
</dd>
</dl>
<p>In the event that boolean_output is True, instead just returns True/False if the repository
is clean/unclean.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="assignment_submission_checker.git_utils.is_git_repo">
<span class="sig-name descname"><span class="pre">is_git_repo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">git_root_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#assignment_submission_checker.git_utils.is_git_repo" title="Link to this definition">¶</a></dt>
<dd><p>Returns True if a valid git repository is found at the directory provided,
and False otherwise.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="assignment_submission_checker.git_utils.locate_repo_in_tree">
<span class="sig-name descname"><span class="pre">locate_repo_in_tree</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">search_root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="headerlink" href="#assignment_submission_checker.git_utils.locate_repo_in_tree" title="Link to this definition">¶</a></dt>
<dd><p>Given a root folder to search from, recurse through the directory tree from this location and return the path to
the first git repository that is found.</p>
<p>If no repository is found, the return value is None.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="assignment_submission_checker.git_utils.switch_if_safe">
<span class="sig-name descname"><span class="pre">switch_if_safe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repo</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Repo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_branch</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#assignment_submission_checker.git_utils.switch_if_safe" title="Link to this definition">¶</a></dt>
<dd><p>Switch to the given reference using git switch.</p>
<p>If the reference doesn’t exist, passing the “create” flag will create the branch and switch to it.
Otherwise, an error will be raised via reporting the invalid reference.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="assignment_submission_checker.git_utils.switch_to_main_if_possible">
<span class="sig-name descname"><span class="pre">switch_to_main_if_possible</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repo</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Repo</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">allowable_other_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#assignment_submission_checker.git_utils.switch_to_main_if_possible" title="Link to this definition">¶</a></dt>
<dd><p>Switches the main branch in the repo, if this is possible.</p>
<p>If the main branch doesn’t exist, the method will attempt to switch to the
allowable other names, in the order they are provided. It will switch to the first
name that it finds a reference to.</p>
<p>The returned value will be a string that describes any non-fatal warnings that were encountered when trying to
switch the repository to the desired branch.
Specifically:
- If the repository was not already on the <cite>main</cite> branch.
- If the repository has no <cite>main</cite> branch, but did have a branch corresponding to
one of the <cite>allowable_other_names</cite>.</p>
<p>Raises an AssignmentCheckerError if the branch cannot be switched to.</p>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Assignment Submission Checker</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../users.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="assignment.html">The <code class="docutils literal notranslate"><span class="pre">Assignment</span></code> Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="cli.html">Command-Line Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="directory.html">The Directory Class</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Miscellaneous Git Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.html">Utility Functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../api.html">API Reference</a><ul>
      <li>Previous: <a href="directory.html" title="previous chapter">The Directory Class</a></li>
      <li>Next: <a href="utils.html" title="next chapter">Utility Functions</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, William Graham.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../_sources/api/git-utils.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>